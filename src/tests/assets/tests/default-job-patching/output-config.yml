jobs:
  failing-job:
    docker:
    - image: cimg/base
    steps:
    - run: exit 1
  succeeding-job:
    docker:
    - image: cimg/base
    steps:
    - run: exit 0
version: 2.1
workflows:
  fail:
    jobs:
    - failing-job:
        context: global
        type: approval
    - failing-job:
        context: global
        type: approval
  run-succeed-and-fail:
    jobs:
    - succeeding-job
    - failing-job:
        context: global
        requires:
        - succeeding-job
        type: approval
  succeed:
    jobs:
    - succeeding-job
  version: 2
